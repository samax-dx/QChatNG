<div class="room-body">
	<!-- Heading -->
	<div class="heading row" *ngIf='_user !== null && _user.username'>
		<div class="col-9">
			<div class="heading-avatar">
				<div class="heading-avatar-icon" (click)='openDetailsAction()'>
					<img *ngIf="_user.profile_picture !== null"
						src="{{IMG_URL}}profile/{{_user.profile_picture}}">
					<img *ngIf="_user.profile_picture === null" src="assets/images/user-thumbnail.png">
				</div>
			</div>
			<div class="heading-name">
				<a class="heading-name-meta">{{_user.username}}
				</a>
				<div class="group-users" *ngIf="selectedGroupUsers !=='' && _user.isgroup">
					{{selectedGroupUsers}}
				</div>
				<span class="heading-online">Online</span>
			</div>
		</div>
		<div class="col-3 text-right call-actions">
			<a href="javascript:void(0)" class="audio-call" (click)="_chatTypeSwitcher(_user)">
				<i class="fas fa-phone"></i>
			</a>
			<a href="javascript:void(0)" class="video-call">
				<i class="fas fa-video"></i>
			</a>
		</div>
	</div>
	<!-- Heading End -->

	<!-- Message Box -->
	<div class="message-box" *ngIf='_user !== null; else welcomeScreen'>
		<div class="row message-story" id="conversation">
			<div class="col-md-12">
				<div class="message-body" *ngFor="let message of _messages">
					<div class="row"
						[ngClass]="_user.id == message.sender? 'justify-content-end' : 'justify-content-start'">
						<div class="col-sm-9" [ngClass]="_user.id == message.sender? 'text-right' : 'text-left'">
							<div [ngClass]="_user.id == message.sender? 'sender' : 'receiver'">
								<div class="message-box">
									<div class="message-text text-left">
										<span>{{ message.message}}</span>
									</div>
									<div class="message-time text-left">
										<span>{{message.created_at | date:'shortTime'}}</span>
									</div>
								</div>

								<div *ngIf='_user.id == message.sender; else msgReceiver'
									class="heading-avatar-icon message-avatar-sender" (click)='openDetailsAction()'>
									<img src="assets/images/user-thumbnail.png">
								</div>
								<ng-template #msgReceiver>
									<div class="heading-avatar-icon message-avatar-receiver"
										(click)='openDetailsAction()'>
										<img src="assets/images/user-thumbnail.png">
									</div>
								</ng-template>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Reply Box -->
		<div class="composer-panel">
			<div class="panel-body">
				<form>
					<div class="row reply" *ngIf='_user !== null && _user.username'>
						<div class="col-sm-1 col-xs-1 reply-emojis">
							<i class="far fa-smile fa-2x"></i>
						</div>
						<div class="col-sm-9 col-xs-9 reply-main">
							<textarea class="form-control message-editor" rows="1" id="comment" #message
								placeholder="Type Your Message..."></textarea>
						</div>

						<div class="col-sm-1 col-xs-1 reply-send">
							<input style="display: none;" type="file" name="fileUpload" id="fileUpload" multiple>
							<label for="fileUpload"><i class="fa fa-paperclip fa-2x download-icon"></i></label>
						</div>
						<div class="col-sm-1 col-xs-1 reply-send">
							<button type="submit">
								<i class="fas fa-location-arrow fa-2x"></i>
							</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
	<!-- Reply Box End -->
</div>